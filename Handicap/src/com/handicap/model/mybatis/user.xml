<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="user">   
	 <!-- 회원가입(일반) --> 
   <insert id="insertuser" parameterType="com.handicap.model.beans.UserVO">
     insert into member (userid,passwd,email,name,nickname,phone,pquestion,panswer,usergrade) 
     values (#{userid}, #{passwd}, #{email}, #{name}, #{nickname}, #{phone}, #{pquestion}, #{panswer}, 1)
   </insert>
   
   <!-- 회원가입(기업)  -->
   <insert id="insertcompany" parameterType="com.handicap.model.beans.UserVO">
   	insert into member 
   	values (#{userid}, #{passwd}, #{email}, #{name}, #{nickname}, #{phone}, #{pquestion}, #{panswer}, 2,#{companyno},#{companyceoname},#{companyaddr},#{companytype})
   </insert>   
   
   <!-- 아이디목록 -->
   <select id="selectId" resultType="com.handicap.model.beans.UserVO">
     select userid from member
   </select>  
   
   <!-- 닉네임목록 -->
   <select id="selectNick" resultType="com.handicap.model.beans.UserVO" >
     select nickname from member
   </select>
   
   <!-- ID에 맞는 닉네임찾기 -->
   <select id="findNick" parameterType="string" resultType="string">
   	select nickname from member where userid=#{userid}
   </select>
   
   <!-- ID에 맞는 비밀번호찾기 -->
   <select id="findPasswd" parameterType="string" resultType="string">
   	select passwd from member where userid=#{userid}
   </select>
   
   <!-- 메시지전송 -->
   <insert id="messageinsert" parameterType="com.handicap.model.beans.MessageVO">
   	insert into message (sender,recipient,contents,senddate)
   	values (#{sender},#{recipient},#{contents},sysdate)
   </insert>
   
   <!-- 메시지 리스트 -->
   <select id="messagelist" parameterType="string" resultType="com.handicap.model.beans.MessageVO">
   		select * from message where recipient=#{recipient}
   </select>
   
   
</mapper>
<!-- user.xml -->






